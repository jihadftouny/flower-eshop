<div class="container-fluid">
  <div class="display-3 text-center">Admin Panel</div>
  <p>Authorized access only. If you are not authorized, leave immediately</p>

  <div class="display-5">Products</div>
  <form class="d-flex my-2">
    <input
      class="form-control me-2"
      type="text"
      placeholder="Search"
      [(ngModel)]="searchTermProducts"
      (input)="searchProducts()"
      name="searchTerm"
      aria-label="Search"
    />
    <a routerLink="/create-product" class="btn btn-info px-5">Add</a>
  </form>
  <div class="table-responsive" style="height: 70vh; overflow-y: scroll;">
    <table class="table table-bordered table-striped">
      <thead class="table">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Title</th>
          <th scope="col">Category</th>
          <th scope="col">Price</th>
          <th scope="col">Currency</th>
          <th scope="col">Image</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody *ngIf="searched">
        <tr *ngFor="let product of filteredProducts">
          <td>{{ product.id }}</td>
          <td class="text-wrap">{{ product.title }}</td>
          <td>{{ product.content }}</td>
          <td>{{ product.price }}</td>
          <td>{{ product.currency }}</td>
          <td>
            <div class="product-image">
              <img [src]="product.imagePath" [alt]="product.title" />
            </div>
          </td>
          <td>
            <!--here-->
            <button
              type="button"
              class="btn btn-danger"
              (click)="onDelete(product.id)"
            >
              Delete
            </button>
          </td>
          <td>
            <!--here-->
            <a
              type="button"
              class="btn btn-warning"
              [routerLink]="['/edit', product.id]"
              >Edit</a
            >
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="!searched">
        <tr *ngFor="let product of products">
          <td>{{ product.id }}</td>
          <td class="text-wrap">{{ product.title }}</td>
          <td>{{ product.content }}</td>
          <td>{{ product.price }}</td>
          <td>{{ product.currency }}</td>
          <td>
            <div class="product-image">
              <img [src]="product.imagePath" [alt]="product.title" />
            </div>
          </td>
          <td>
            <!--here-->
            <button
              type="button"
              class="btn btn-danger"
              (click)="onDelete(product.id)"
            >
              Delete
            </button>
          </td>
          <td>
            <!--here-->
            <a
              type="button"
              class="btn btn-warning"
              [routerLink]="['/edit', product.id]"
              >Edit</a
            >
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="display-5">Events</div>
  <form class="d-flex my-2">
    <input
      class="form-control me-2"
      type="text"
      placeholder="Search"
      [(ngModel)]="searchTermEvents"
      (input)="searchEvents()"
      name="searchTerm"
      aria-label="Search"
    />
    <a routerLink="/create-event" class="btn btn-info px-5">Add</a>
  </form>
  <div class="table-responsive" style="height: 70vh; overflow-y: scroll;">
    <table class="table table-bordered table-striped">
      <thead class="table">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Image</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody *ngIf="searched">
        <tr *ngFor="let event of filteredEvents">
          <td>{{ event.id }}</td>
          <td class="text-wrap">{{ event.name }}</td>
          <td>
            <div class="product-image">
              <img [src]="event.imagePath" [alt]="event.name" />
            </div>
          </td>
          <td>
            <!--here-->
            <button
              type="button"
              class="btn btn-danger"
              (click)="onDeleteEvent(event.id)"
            >
              Delete
            </button>
          </td>
          <td>
            <!--here-->
            <a
              type="button"
              class="btn btn-warning"
              [routerLink]="['/edit/event', event.id]"
              >Edit</a
            >
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="!searched">
        <tr *ngFor="let event of events">
          <td>{{ event.id }}</td>
          <td class="text-wrap">{{ event.name }}</td>
          <td>
            <div class="product-image">
              <img [src]="event.imagePath" [alt]="event.name" />
            </div>
          </td>
          <td>
            <!--here-->
            <button
              type="button"
              class="btn btn-danger"
              (click)="onDeleteEvent(event.id)"
            >
              Delete
            </button>
          </td>
          <td>
            <!--here-->
            <a
              type="button"
              class="btn btn-warning"
              [routerLink]="['/edit/event', event.id]"
              >Edit</a
            >
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="display-5">Users</div>
  <form class="d-flex my-2">
    <input
      class="form-control me-2"
      type="text"
      placeholder="Search"
      [(ngModel)]="searchTermUsers"
      (input)="searchUsers()"
      name="searchTerm"
      aria-label="Search"
    />
    <button class="btn btn-outline-success" type="submit">Search</button>
  </form>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table">
        <tr>
          <th scope="col">Email</th>
          <th scope="col">Pasword</th>
          <th scope="col">Full Name</th>
          <th scope="col">Phone Number</th>
        </tr>
      </thead>
      <tbody *ngIf="searched">
        <tr *ngFor="let user of filteredUsers">
          <td>{{ user.email }}</td>
          <td>{{ user.password }}</td>
          <td>{{ user.fullName }}</td>
          <td>{{ user.phoneNumber }}</td>
        </tr>
      </tbody>
      <tbody *ngIf="!searched">
        <tr *ngFor="let user of users">
          <td>{{ user.email }}</td>
          <td>{{ user.password }}</td>
          <td>{{ user.fullName }}</td>
          <td>{{ user.phoneNumber }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
